=pod

=encoding utf8

=head1 NAME

devmon - automounts and unmounts optical and removable drives

=head1 SYNOPSIS

=over

=item B<Run as daemon to automount>:

B<devmon> [B<UNIVERSAL OPTIONS>] [B<AUTOMOUNT OPTIONS>]

=item B<Run as client to manually un/mount>:

B<devmon> [B<UNIVERSAL OPTIONS>] [B<MOUNT OPTIONS>]

=back

=head1 DESCRIPTION

B<devmon> is a configuration-less bash daemon script which automounts optical
discs and removable drives.
It can also selectively autostart apps or execute commands after mounting,
ignore specified devices and volume labels, and manually mount and unmount
devices.

=head1 UNIVERSAL OPTIONS

These can be used in both daemon and client modes:

=over

=item B<--ignore-device> I<DEVICE>

Ignore I<DEVICE> (e.g. F</dev/sdd1>).

=item B<--ignore-label> "LABEL"

Ignore volume with LABEL.

=item B<--sync> | B<-s>

Add sync mount option for ext2-4 ntfs ufs, or flush for fat & vfat (slower writing but safer).

=item B<--internal>

Also attempt to un/mount internal system drives (this is mostly a fix for esata issues).

=item B<--always-exec>

Also run B<--exec-on-XXX> commands during startup or with B<--mount-all>.

=item B<--no-gui> | B<-g>

Do not show spacefm/zenity pop-up dialogs.

=back

=head1 AUTOMOUNT OPTIONS

These can be used only in daemon mode:

=over

=item B<--exec-on-device> I<DEVICE> "COMMAND"

Execute COMMAND after mounting DEVICE.

=item B<--exec-on-label> "LABEL" "COMMAND"

Execute COMMAND after mounting LABEL.

=item B<--exec-on-video> "COMMAND"

Execute COMMAND after video DVD mount.

=item B<--exec-on-audio> "COMMAND"

Execute COMMAND after audio CD insertion.

=item B<--exec-on-disc> "COMMAND"

Execute COMMAND after data CD/DVD mount.

=item B<--exec-on-drive> "COMMAND"

Execute COMMAND after drive mount.

=item B<--exec-on-unmount> "COMMAND"

Execute COMMAND after unmount.

=item B<--exec-on-remove>  "COMMAND"

Execute COMMAND after drive removal.

Where the following in COMMAND will be replaced with:

=over

=item B<%d>

mount point directory (e.g. F</media/cd>)

=item B<%f>

device name (e.g. F</dev/sdd1>)

=item B<%l>

label of mounted volume

=back

Multiple B<--exec-on-XXX> options may be used to execute multiple commands.
Other B<exec-on-XXX> commands are ignored if B<exec-on-device> or B<-label> executed.

=item B<--mount-options> "OPTIONS"

Default: noexec,nosuid,nodev,noatime

=item B<--info-on-mount>

Show mounted drive info in a popup dialog.

=item B<--no-mount>

Don't mount anything, just exec (disables B<--exec-on-video>).

=item B<--no-unmount>

Don't unmount all removable drives on exit.

=back

=head1 B<MOUNT OPTIONS>

These can be used only in client mode:

=over

=item B<--unmount-removable> | B<-r>

Sync and unmount all removable drives and show pop-up dialog (spacefm or zenity required).

=item B<--unmount-recent> | B<-c>

Unmount most recently mounted removable drive.

=item B<--unmount-optical> | B<-o>

Unmount all optical drives (error pop-up only).

=item B<--unmount-all> | B<-u>

Same as B<--unmount-removable> B<--unmount-optical>.

=item B<--unmount> I<DIR> | I<DEVICE>

Unmount I<DEVICE> or mount point I<DIR>.

=item B<--eject> I<DIR> | I<DEVICE>

Unmount and eject I<DEVICE> or mount point I<DIR>.

=item B<--mount-all> | B<-a>

Mount all removable and optical drives.

=item B<--mount> I<DEVICE>

Mount I<DEVICE>.

=item B<--mount-options> | B<--mount-fstype> | B<--eject-options> "OPTIONS"

These options will be passed to mount or eject.

=item B<--enumerate-device-files>

List known devices.

=back

=head1 SEE ALSO

=over

=item L<udevil(1)>

=item L<http://igurublog.wordpress.com/downloads/script-devmon/>

Instruction and updates.

=back

=head1 AUTHORS

This manual page was written by Alexandr Savca L<mailto:alexandr.savca89@gmail.com>
for Zeppe-Lin system (but may be used by others).

=cut
