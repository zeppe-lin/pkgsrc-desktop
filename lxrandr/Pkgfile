# Description: Monitor configuration tool
# URL:         https://github.com/lxde/lxrandr
# Depends on:  gtk xorg-xrandr

# Maintainer notes on dependencies:
#   gtk3: GTK3 GUI support (disabled by default)

name=lxrandr
version=0.3.3
release=1
source=$name-$version.tar.gz::https://github.com/lxde/$name/archive/refs/tags/$version.tar.gz

build() {
	# Disable i18n
	export LINGUAS=' '

	# Remove OnlyShowIn=LXDE from autostart entry (makes DE-agnostic)
	sed -i '/g_key_file_set_string( kf, grp, "OnlyShowIn", "LXDE" )/d' \
		$name-$version/src/lxrandr.c

	mkdir build; cd build

	autoreconf -fiv ../$name-$version
	../$name-$version/configure \
		--prefix=/usr \
		--sysconfdir=/etc \
		--disable-nls \
		#--enable-gtk3 \

	make V=1
	make DESTDIR=$PKG install
}
