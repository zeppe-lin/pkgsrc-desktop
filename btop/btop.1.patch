diff '--color=auto' -pruN btop-9bd618fd0eb92ae17202d3887f3a851494a8cd39/CMakeLists.txt btop-9bd618fd0eb92ae17202d3887f3a851494a8cd39.new/CMakeLists.txt
--- btop-9bd618fd0eb92ae17202d3887f3a851494a8cd39/CMakeLists.txt	2025-05-03 21:40:46.000000000 +0300
+++ btop-9bd618fd0eb92ae17202d3887f3a851494a8cd39.new/CMakeLists.txt	2025-05-04 18:58:34.046759156 +0300
@@ -238,22 +238,22 @@ elseif(CMAKE_SYSTEM_NAME STREQUAL "NetBS
 endif()
 
 
-# Check if lowdown is installed
-find_program(LOWDOWN_EXECUTABLE lowdown)
+# Check if scdoc is installed
+find_program(SCDOC_EXECUTABLE scdoc)
 
-if(LOWDOWN_EXECUTABLE)
-  # Custom target to compile Markdown to man page using lowdown
+if(SCDOC_EXECUTABLE)
+  # Custom target to compile scdoc to man page using scdoc
   add_custom_command(
     OUTPUT btop.1
-    COMMAND lowdown -s -T man -o btop.1 ${CMAKE_CURRENT_SOURCE_DIR}/manpage.md
-    DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/manpage.md
+    COMMAND scdoc < ${CMAKE_CURRENT_SOURCE_DIR}/btop.1.scdoc > btop.1
+    DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/btop.1.scdoc
     VERBATIM
   )
   add_custom_target(generate_manpage ALL DEPENDS ${CMAKE_CURRENT_BINARY_DIR}/btop.1)
   # Install the man page
   install(FILES "${CMAKE_CURRENT_BINARY_DIR}/btop.1" DESTINATION "share/man/man1")
 else()
-  message(STATUS "Command 'lowdown' not found: skipping generating man page btop.1")
+  message(STATUS "Command 'scdoc' not found: skipping generating man page btop.1")
 endif()
 
 install(TARGETS btop RUNTIME)
